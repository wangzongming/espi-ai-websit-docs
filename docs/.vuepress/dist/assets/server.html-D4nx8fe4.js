import{_ as s,c as n,o as a,a as e}from"./app-C4qcx3IG.js";const p={},l=e(`<h1 id="服务端" tabindex="-1"><a class="header-anchor" href="#服务端"><span>服务端</span></a></h1><p>服务端用于处理与 <code>IAT/ASR</code>、<code>LLM/RAG</code>、<code>TTS</code> 服务之间的通信和数据处理，并且将最终的音频结果发送给客户端，这样客户端可以直接播放音频数据。</p><p>服务端核心使用 <code>Nodejs</code> 编写。提供包括但不限于<code>Nodejs</code>编程语言的插件开发扩展。</p><p>服务端主要是提供各种配置项，你只需要更改配置项即可。</p><h2 id="安装与环境" tabindex="-1"><a class="header-anchor" href="#安装与环境"><span>安装与环境</span></a></h2><p>这里不在赘述，直接看快速开始中的：<a href="start.html#服务端">服务端安装</a></p><h2 id="基本代码" tabindex="-1"><a class="header-anchor" href="#基本代码"><span>基本代码</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> espAi <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;esp-ai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">api_key</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 讯飞：https://console.xfyun.cn/services/iat  。打开网址后，右上角三个字段复制进来即可。</span></span>
<span class="line">        <span class="token literal-property property">xun_fei</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token literal-property property">appid</span><span class="token operator">:</span> <span class="token string">&quot;5200d300&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">apiSecret</span><span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">apiKey</span><span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">llm</span><span class="token operator">:</span> <span class="token string">&quot;v4.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">espAi</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项"><span>配置项</span></a></h2><p>除了上面的 <code>api_key</code> 是必选的外，还有下面更多的可选项。</p><h3 id="api-key" tabindex="-1"><a class="header-anchor" href="#api-key"><span>api_key</span></a></h3><ul><li>说明：</li></ul><p>不同的服务商需要配置对应的 <code>key</code>，每一个扩展插件也需要为其配置相应的 <code>key</code>。 每个服务商或者插件的<code>Key</code>配置不是完全一样的，具体请参考文档</p><p>配置了<code>iat_server</code>、<code>tts_server</code>、<code>llm_server</code>是什么，下面的配置中就必须出现对应的配置。 例如配置了 <code>tts_server: &quot;xun_fei&quot;</code> 下面就必须存在讯飞的配置。</p><ul><li>默认: -</li><li>必填: 是</li><li>使用案例</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    api_key<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token doc-comment comment">/** [内置插件]</span>
<span class="line">        * 讯飞：https://console.xfyun.cn/services/iat  。打开网址后，右上角三个字段复制进来即可。</span>
<span class="line">       */</span></span>
<span class="line">        xun_fei<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            appid<span class="token operator">:</span> <span class="token string">&quot;5200d300&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            apiSecret<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            apiKey<span class="token operator">:</span> <span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            llm<span class="token operator">:</span> <span class="token string">&quot;v4.0&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token doc-comment comment">/** [内置插件]</span>
<span class="line">         * 阿里积灵（千问等）： https://dashscope.console.aliyun.com/apiKey</span>
<span class="line">         * 积灵主要是提供llm（推荐使用这个llm服务）</span>
<span class="line">        */</span> </span>
<span class="line">        dashscope<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            apiKey<span class="token operator">:</span> <span class="token string">&quot;sk-xx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// LLM 版本</span></span>
<span class="line">            llm<span class="token operator">:</span> <span class="token string">&quot;qwen-turbo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">        <span class="token doc-comment comment">/** [内置插件]</span>
<span class="line">         * 火山引擎（豆包等）：https://console.volcengine.com/speech/service/8?AppID=6359932705</span>
<span class="line">         */</span> </span>
<span class="line">        volcengine<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 火山引擎的TTS与LLM使用不同的key，所以需要分别配置</span></span>
<span class="line">            tts<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">// 服务接口认证信息</span></span>
<span class="line">                appid<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">                accessToken<span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">            <span class="token comment">// 暂不支持 llm</span></span>
<span class="line">            llm<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token comment">// 获取地址：https://console.volcengine.com/ark/region:ark+cn-beijing/endpoint?current=1&amp;pageSize=10</span></span>
<span class="line">                model<span class="token operator">:</span> <span class="token string">&quot;ep-xxx&quot;</span><span class="token punctuation">,</span><span class="token comment">// 每个模型都有一个id</span></span>
<span class="line">                <span class="token comment">// 获取地址：https://console.volcengine.com/ark/region:ark+cn-beijing/apiKey</span></span>
<span class="line">                apiKey<span class="token operator">:</span> <span class="token string">&quot;32dacfe4xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">        <span class="token doc-comment comment">/** [第三方插件]</span>
<span class="line">         * 海豚TTS, 可以不用配置 token, 每天都有免费额度</span>
<span class="line">         * 插件文档地址： https://www.npmjs.com/package/esp-ai-plugin-tts-ttson</span>
<span class="line">         * 海豚配音：https://www.ttson.cn/</span>
<span class="line">        */</span> </span>
<span class="line">        <span class="token string-property property">&quot;esp-ai-plugin-tts-ttson&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            token<span class="token operator">:</span> <span class="token string">&quot;&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token doc-comment comment">/**  [第三方插件]</span>
<span class="line">         * 通过onehub支持绝大多数LLM模型</span>
<span class="line">         * 插件文档地址： https://www.npmjs.com/package/esp-ai-plugin-llm-onehub </span>
<span class="line">         */</span>  </span>
<span class="line">        <span class="token string-property property">&quot;esp-ai-plugin-llm-onehub&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">            apiKey<span class="token operator">:</span> <span class="token string">&quot;sk-xxx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            llm<span class="token operator">:</span> <span class="token string">&quot;gpt-3.5-turbo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            api_server<span class="token operator">:</span> <span class="token string">&quot;https://api.xn--5kv132d.com/v1/chat/completions&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token comment">// 其他自定义插件，插件名称为对象名字，如[custom_plugin]</span></span>
<span class="line">        <span class="token comment">// custom_plugin: {</span></span>
<span class="line">        <span class="token comment">//     [key: string]: any;</span></span>
<span class="line">        <span class="token comment">// }</span></span>
<span class="line">    <span class="token punctuation">}</span> </span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="iat-server" tabindex="-1"><a class="header-anchor" href="#iat-server"><span>iat_server</span></a></h3><ul><li>说明：</li></ul><p>语音识别服务，框架目前内置了讯飞的服务<code>xun_fei</code>，如果需要其他服务商或者本地的服务，请自行到<a href="/plugs.html">插件市场</a>下载所需插件或者自行编写插件。</p><ul><li>默认: xun_fei</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">iat_server</span><span class="token operator">:</span> <span class="token string">&quot;xun_fei&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tts-server" tabindex="-1"><a class="header-anchor" href="#tts-server"><span>tts_server</span></a></h3><ul><li>说明：</li></ul><p>TTS服务，框架目前内置了讯飞的服务<code>xun_fei</code>(讯飞)、<code>volcengine</code>(火山引擎)，如果需要其他服务商或者本地的服务，请自行到插件市场下载所需插件或者自行编写插件。</p><ul><li>默认: xun_fei</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">tts_server</span><span class="token operator">:</span> <span class="token string">&quot;xun_fei&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="llm-server" tabindex="-1"><a class="header-anchor" href="#llm-server"><span>llm_server</span></a></h3><ul><li>说明：</li></ul><p>LLM/RAG 服务，框架目前内置了讯飞的服务<code>xun_fei</code>(讯飞)、<code>dashscope</code>(阿里积灵)，如果需要其他服务商或者本地的服务，请自行到插件市场下载所需插件或者自行编写插件。</p><ul><li>默认: xun_fei</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">llm_server</span><span class="token operator">:</span> <span class="token string">&quot;xun_fei&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="devlog" tabindex="-1"><a class="header-anchor" href="#devlog"><span>devLog</span></a></h3><ul><li>说明： 日志输出模式：0 不输出(线上模式)， 1 普通输出， 2 详细输出</li><li>默认: 1</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">devLog</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="port" tabindex="-1"><a class="header-anchor" href="#port"><span>port</span></a></h3><ul><li>说明：服务端口</li><li>默认: 8080</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="intention" tabindex="-1"><a class="header-anchor" href="#intention"><span>intention</span></a></h3><ul><li>说明： 用户意图表，当用户唤醒 小明同学后，可以向小明同学发出下面的指令，关键词设置在3到5个为最佳。在打造一个家庭助手时这是必不可少的功能。 内置指令 <strong>play_music</strong> 、<strong>sleep</strong></li></ul><p>当需要请求意图服务时，可写为异步函数，返回非 <code>false</code> 即为匹配成功。如下方的音乐播放。</p><ul><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">intention</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 关键词</span></span>
<span class="line">            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;帮我开灯&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;开灯&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;打开灯&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// 向客户端发送的指令</span></span>
<span class="line">            <span class="token literal-property property">instruct</span><span class="token operator">:</span> <span class="token string">&quot;device_open_001&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;开啦！还有什么需要帮助的吗？&quot;</span>， </span>
<span class="line">            <span class="token comment">// 附加参数, 不管什么数据，都需要写为 string 类型，且不建议放较大的数据在这里</span></span>
<span class="line">            <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token string">&quot;ak=123456&quot;</span><span class="token punctuation">;</span> </span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 关键词</span></span>
<span class="line">            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;帮我关灯&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;关灯&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;关闭灯&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// 向客户端发送的指令</span></span>
<span class="line">            <span class="token literal-property property">instruct</span><span class="token operator">:</span> <span class="token string">&quot;device_close_001&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;关啦！还有什么需要帮助的吗？&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        </span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token doc-comment comment">/**</span>
<span class="line">             * 正则匹配</span>
<span class="line">             * 如：播放音乐最后的倔强</span>
<span class="line">             * </span>
<span class="line">             * 返回匹配的字符串为匹配成功</span>
<span class="line">            */</span></span>
<span class="line">            <span class="token function-variable function">key</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">const</span> regex <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^(播放音乐)(.*)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token keyword">const</span> match <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span> </span>
<span class="line">                <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">)</span> <span class="token punctuation">{</span> </span>
<span class="line">                    <span class="token keyword">const</span> songName <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span> </span>
<span class="line">                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;音乐名称:&quot;</span><span class="token punctuation">,</span> songName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">                    <span class="token keyword">return</span> songName<span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line">                <span class="token punctuation">}</span></span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// 向客户端发送的指令</span></span>
<span class="line">            <span class="token literal-property property">instruct</span><span class="token operator">:</span> <span class="token string">&quot;__play_music__&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;好的！&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// 用于返回音乐地址的服务，\`esp-ai\` 目前不提供音乐服务</span></span>
<span class="line">            <span class="token comment">// name 是歌曲名称</span></span>
<span class="line">            <span class="token function-variable function">music_server</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">                <span class="token keyword">return</span> <span class="token string">&quot;http://m10.music.126.net/20240723180659/13eabc0c9291dab9a836120bf3f609ea/ymusic/5353/0f0f/0358/d99739615f8e5153d77042092f07fd77.mp3&quot;</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">            <span class="token comment">// 关键词</span></span>
<span class="line">            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;退下吧&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;退下&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token comment">// 内置的睡眠指令</span></span>
<span class="line">            <span class="token literal-property property">instruct</span><span class="token operator">:</span> <span class="token string">&quot;__sleep__&quot;</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;我先退下了，有需要再叫我。&quot;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="f-reply" tabindex="-1"><a class="header-anchor" href="#f-reply"><span>f_reply</span></a></h3><ul><li>说明： 被唤醒后的回复</li><li>默认: 小明在的</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">f_reply</span><span class="token operator">:</span> <span class="token string">&quot;有事请吩咐&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="vad-eos" tabindex="-1"><a class="header-anchor" href="#vad-eos"><span>vad_eos</span></a></h3><ul><li>默认: 语音识别静默时间, 单位毫秒，默认 2500</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token literal-property property">vad_eos</span><span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// 5秒后听不见说话结束会话</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="llm-params-set" tabindex="-1"><a class="header-anchor" href="#llm-params-set"><span>llm_params_set</span></a></h3><ul><li>说明： llm 参数自定义, 可以设置温度等</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * llm 参数控制, 可以设置温度等</span>
<span class="line">     * 不同服务要求的参数格式和属性名字不同，根据插件或者服务的实际文档来。</span>
<span class="line">    */</span></span>
<span class="line">    <span class="token function-variable function">llm_params_set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> </span>
<span class="line">        <span class="token doc-comment comment">/** 讯飞温度设置 ... **/</span></span>
<span class="line">        params<span class="token punctuation">.</span>parameter<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>temperature <span class="token operator">=</span> <span class="token number">0.4</span><span class="token punctuation">;</span></span>
<span class="line">        params<span class="token punctuation">.</span>parameter<span class="token punctuation">.</span>chat<span class="token punctuation">.</span>max_tokens <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> </span>
<span class="line">        <span class="token comment">// 改完后一定要返回出去</span></span>
<span class="line">        <span class="token keyword">return</span> params<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tts-params-set" tabindex="-1"><a class="header-anchor" href="#tts-params-set"><span>tts_params_set</span></a></h3><ul><li>说明： tts 参数自定义, 可以设置说话人、音量、语速等</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * tts 参数控制, 可以设置说话人、音量、语速等</span>
<span class="line">     * 不同服务要求的参数格式和属性名字不同，根据下面属性进行配置</span>
<span class="line">    */</span></span>
<span class="line">    <span class="token function-variable function">tts_params_set</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> </span>
<span class="line">        <span class="token doc-comment comment">/** 讯飞 **/</span></span>
<span class="line">        <span class="token comment">// 说话人列表见：https://help.aliyun.com/zh/dashscope/developer-reference/model-list-old-version?spm=a2c4g.11186623.0.0.5fbe490eBdtzX0</span></span>
<span class="line">        params<span class="token punctuation">.</span>vcn <span class="token operator">=</span> <span class="token string">&quot;aisbabyxu&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token doc-comment comment">/** 火山引擎 **/</span></span>
<span class="line">        <span class="token comment">// 说话人列表见：https://www.volcengine.com/docs/6561/97465</span></span>
<span class="line">        <span class="token comment">// params.voice_type = &quot;BV051_streaming&quot; </span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// 改完后一定要返回出去</span></span>
<span class="line">        <span class="token keyword">return</span> params<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ondeviceconnect" tabindex="-1"><a class="header-anchor" href="#ondeviceconnect"><span>onDeviceConnect</span></a></h3><ul><li>说明： 新设备连接服务的回调</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>  </span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 新设备连接服务的回调 </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">device_id</span> 设备id</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">client_version</span> 客户端版本</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>WebSocket<span class="token punctuation">}</span></span> <span class="token parameter">ws</span> 连接句柄，可使用 ws.send() 发送数据</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token function-variable function">onDeviceConnect</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> device_id<span class="token punctuation">,</span> ws<span class="token punctuation">,</span> client_version <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// 做一些事情...</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="oniatcb" tabindex="-1"><a class="header-anchor" href="#oniatcb"><span>onIATcb</span></a></h3><ul><li>说明： 语音识别过程中的回调</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token doc-comment comment">/** </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">device_id</span> 设备id</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">text</span> 语音转的文字 </span>
<span class="line">    */</span></span>
<span class="line">   <span class="token function">onIATcb</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> device_id<span class="token punctuation">,</span> text <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="oniatendcb" tabindex="-1"><a class="header-anchor" href="#oniatendcb"><span>onIATEndcb</span></a></h3><ul><li>说明： 语音识别完毕的回调，可以在这里面发出最后一帧到语音识别服务器等操作</li><li>默认:</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>   </span>
<span class="line">    <span class="token doc-comment comment">/** </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">device_id</span> 设备id</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">text</span> 语音转的文字 </span>
<span class="line">    */</span></span>
<span class="line">    <span class="token function-variable function">onIATEndcb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> device_id<span class="token punctuation">,</span> text <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="onllmcb" tabindex="-1"><a class="header-anchor" href="#onllmcb"><span>onLLMcb</span></a></h3><ul><li>说明： LLM 服务响应回调</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token doc-comment comment">/** </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">device_id</span> 设备id</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">text</span> 大语言模型推理出来的文本片段 </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>boolean<span class="token punctuation">}</span></span> <span class="token parameter">is_over</span> 是否回答完毕 </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span> <span class="token parameter">llm_historys</span> 对话历史 </span>
<span class="line">     * </span>
<span class="line">    */</span></span>
<span class="line">    <span class="token function-variable function">onLLMcb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> device_id<span class="token punctuation">,</span> text<span class="token punctuation">,</span> is_over<span class="token punctuation">,</span> llm_historys <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="onttscb" tabindex="-1"><a class="header-anchor" href="#onttscb"><span>onTTScb</span></a></h3><ul><li>说明： tts 回调</li><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span> </span>
<span class="line">    <span class="token doc-comment comment">/** </span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>string<span class="token punctuation">}</span></span> <span class="token parameter">device_id</span> 设备id</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Boolean<span class="token punctuation">}</span></span> <span class="token parameter">is_over</span>  是否完毕</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token class-name"><span class="token punctuation">{</span>Buffer<span class="token punctuation">}</span></span> <span class="token parameter">audio</span>    音频流 </span>
<span class="line">    */</span></span>
<span class="line">    <span class="token function-variable function">onTTScb</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>  <span class="token literal-property property">device_id</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token literal-property property">is_over</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span> <span class="token literal-property property">audio</span><span class="token operator">:</span> Buffer <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="plugins" tabindex="-1"><a class="header-anchor" href="#plugins"><span>plugins</span></a></h3><ul><li>说明： 插件，<code>LLM</code>、<code>TTS</code>、<code>IAT</code> 的插件使用方法都是一模一样的。首先你得有一个插件，不管是在<a href="/plugs.html">插件市场</a>安装的，还是自己写：<a href="/plugs-develop.html">插件开发文档</a>。</li></ul><p>一般使用流程是先安装插件，使用命令 <code>npm i xxx</code>, 然后更改服务配置 <code>xxx_server: &#39;xxx&#39;</code>，然后在插件中引入即可。</p><ul><li>默认: -</li><li>必填: 否</li><li>使用案例</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js" data-title="js"><pre class="language-javascript"><code><span class="line"><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>  </span>
<span class="line">    <span class="token comment">// 使用 esp-ai-plugin-iat-example 提供 语音识别服务</span></span>
<span class="line">    <span class="token literal-property property">iat_server</span><span class="token operator">:</span> <span class="token string">&quot;esp-ai-plugin-iat-example&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// 使用 esp-ai-plugin-tts-ttson 提供 tts 服务</span></span>
<span class="line">    <span class="token literal-property property">tts_server</span><span class="token operator">:</span> <span class="token string">&quot;esp-ai-plugin-tts-ttson&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 海豚配音插件</span></span>
<span class="line">    <span class="token comment">// 使用 esp-ai-plugin-llm-example 提供 llm 服务</span></span>
<span class="line">    <span class="token literal-property property">llm_server</span><span class="token operator">:</span> <span class="token string">&quot;esp-ai-plugin-llm-example&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    </span>
<span class="line">    <span class="token comment">// 引入插件</span></span>
<span class="line">    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span> </span>
<span class="line">        <span class="token comment">// 在项目中安装： npm i esp-ai-plugin-iat-example</span></span>
<span class="line">        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;esp-ai-plugin-iat-example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token comment">// 在项目中安装： npm i esp-ai-plugin-tts-ttson</span></span>
<span class="line">        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;esp-ai-plugin-tts-ttson&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">        <span class="token comment">// 在项目中安装： npm i esp-ai-plugin-llm-example</span></span>
<span class="line">        <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;esp-ai-plugin-llm-example&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,74),t=[l];function i(c,o){return a(),n("div",null,t)}const u=s(p,[["render",i],["__file","server.html.vue"]]),d=JSON.parse('{"path":"/server.html","title":"服务端","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"安装与环境","slug":"安装与环境","link":"#安装与环境","children":[]},{"level":2,"title":"基本代码","slug":"基本代码","link":"#基本代码","children":[]},{"level":2,"title":"配置项","slug":"配置项","link":"#配置项","children":[{"level":3,"title":"api_key","slug":"api-key","link":"#api-key","children":[]},{"level":3,"title":"iat_server","slug":"iat-server","link":"#iat-server","children":[]},{"level":3,"title":"tts_server","slug":"tts-server","link":"#tts-server","children":[]},{"level":3,"title":"llm_server","slug":"llm-server","link":"#llm-server","children":[]},{"level":3,"title":"devLog","slug":"devlog","link":"#devlog","children":[]},{"level":3,"title":"port","slug":"port","link":"#port","children":[]},{"level":3,"title":"intention","slug":"intention","link":"#intention","children":[]},{"level":3,"title":"f_reply","slug":"f-reply","link":"#f-reply","children":[]},{"level":3,"title":"vad_eos","slug":"vad-eos","link":"#vad-eos","children":[]},{"level":3,"title":"llm_params_set","slug":"llm-params-set","link":"#llm-params-set","children":[]},{"level":3,"title":"tts_params_set","slug":"tts-params-set","link":"#tts-params-set","children":[]},{"level":3,"title":"onDeviceConnect","slug":"ondeviceconnect","link":"#ondeviceconnect","children":[]},{"level":3,"title":"onIATcb","slug":"oniatcb","link":"#oniatcb","children":[]},{"level":3,"title":"onIATEndcb","slug":"oniatendcb","link":"#oniatendcb","children":[]},{"level":3,"title":"onLLMcb","slug":"onllmcb","link":"#onllmcb","children":[]},{"level":3,"title":"onTTScb","slug":"onttscb","link":"#onttscb","children":[]},{"level":3,"title":"plugins","slug":"plugins","link":"#plugins","children":[]}]}],"git":{"updatedTime":1722236477000,"contributors":[{"name":"wangzongming","email":"wangzm@bjzxkj.com","commits":4}]},"filePathRelative":"server.md"}');export{u as comp,d as data};
