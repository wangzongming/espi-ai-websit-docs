---
title: 设备管理接口
createTime: 2025/04/10 14:41:37
permalink: /dev/vdfcln9r/
---

使用设备管理接口可以进行`查询设备`、`删除设备`、`更新设备`。

## **查询设备列表**

**适用对象：** 第三方服务端请求

**请求URL：** https://api.espai2.fun/devices/list

**请求方式：** `POST`

**请求参数：**

| 字段名       | 类型     | 必填 | 描述                                         |
|-----------|--------|----|--------------------------------------------|
| name      | string | 否  | 设备名称                                       |
| api_key   | string | 否  | 设备的api_key，查询用户设备相关配置的密钥；注意：不是open_api_key |
| device_id | string | 否  | 设备ID；例如：`FC:01:2C:DB:14:30`；注意非32位ID       |
| bin_id    | string | 否  | 固件ID                                       |
| version   | string | 否  | 固件版本                                       |
| enable    | string | 否  | 是否启用；0：禁止（默认），1：启用                         |
| is_online | string | 否  | 是否在线；0：离线，1：在线                             |
| type      | string | 否  | 设备类型；0：对话设备（默认）, 1：终端设备                    |
| page      | string | 否  | 分页查询当前页；默认当前第1页                            |
| limit     | string | 否  | 分页查询查询条数；默认查询9999条                         |

**注意：**`当所有参数都不传时，默认查询当前用户下的所有设备，返回设备列表。`

**参数示例：**

```json
{
  "name": "小琅",
  "api_key": "你自己设备对应的api_key",
  "device_id": "FC:01:2C:DB:14:30",
  "bin_id": "0",
  "version": "1.22.34",
  "enable": "1",
  "is_online": "1",
  "type": "0",
  "page": "1",
  "limit": "10"
}
```

**返回参数：**

| 字段名         | 类型      | 必填 | 描述                       |
|-------------|---------|----|--------------------------|
| success     | boolean | 是  | 结果标识； true：成功 false：请求失败 |
| totalNumber | number  | 是  | 返回的数据条数                  |
| message     | string  | 是  | 返回的消息；例如：`请求成功`或其他异常信息   |
| data        | array   | 是  | 返回的数据列表                  |

**设备信息：**

| 字段名 描述 |
|-------------|---------|----|--------------------------|
| success | 结果标识； true：成功 false：请求失败 |
| totalNumber | 返回的数据条数 |
| message | 返回的消息；例如：`请求成功`或其他异常信息 |
| data | 返回的数据列表 |

**返回示例：**

```json
{
  "success": true,
  "message": "请求成功",
  "data": [
    {
      "id": "2cf661bb42b642018ee13af7150b8310",
      "create_time": 1744180142741,
      "update_time": 1744268200431,
      "sort": null,
      "ext1": null,
      "ext2": null,
      "ext3": null,
      "name": "小琅",
      "user_id": "87215a4192654cea8781a1a596d23cae",
      "equipment_id": "679f9af935e047639ddb98f35e103e8f",
      "api_key": "",
      "enable": "1",
      "is_online": "0",
      "device_id": "FC:01:2C:DB:14:30",
      "wifi_ssid": "联域科技",
      "wifi_pwd": "lykj987654321",
      "net_ip": "192.168.3.71",
      "version": "1.22.34",
      "bin_id": "0",
      "nation": "China",
      "province": "Guangdong",
      "city": "Guangzhou",
      "type": null,
      "memory": "用户问候，助手以“乌鸦哥”的身份回应，并提出可以帮助用户。",
      "latitude": "23.1181",
      "longitude": "113.2539",
      "user_name": "琳琅",
      "user_phone": 15977235456
    }
  ],
  "totalNumber": 1
}
```

**错误示例：**

```json
{
  "success": false,
  "message": "系统错误：xxx",
  "code": 500
}
```

```json
{
  "success": false,
  "message": "缺失参数：type",
  "code": 401
}
```

**代码示例：**

::: code-tabs
@tab Nodejs

```js
const axios = require('axios');

// 定义请求头部
const headers = {
    'authorization': 'esp_ai平台的32位open_api_key',
    'Content-Type': 'application/json'
};


// 定义要发送的数据 LLM/TTS/IAT
const data = {
    "type": "LLM"
};

// 发送POST请求
axios.post('https://api.espai2.fun/pulgin/select', data, {headers})
    .then(response => {
        console.log(response.data);
    })
    .catch(error => {
        console.error(error);
    });

```

:::
